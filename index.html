<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anker AI 智能版本号自动生成</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- 配置Tailwind自定义颜色 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3B82F6',
                        secondary: '#10B981',
                        accent1: '#F59E0B', // 橙色
                        accent2: '#EC4899', // 粉色
                        accent3: '#8B5CF6', // 紫色
                        accent4: '#14B8A6', // 青色
                        accent5: '#EF4444', // 红色
                        dark: '#1E293B',
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .input-focus {
                @apply focus:ring-2 focus:ring-opacity-50 focus:border-transparent focus:outline-none;
            }
            .card-shadow {
                @apply shadow-lg hover:shadow-xl transition-shadow duration-300;
            }
            .btn-effect {
                @apply transform hover:-translate-y-0.5 transition-transform duration-200;
            }
            .section-style {
                @apply rounded-xl p-5 border border-gray-100 transition-all duration-300 hover:shadow-md;
            }
            /* 固定宽度按钮类 */
            .fixed-width-btn {
                width: 140px !important;
                flex: none !important;
            }
            .generate-btn {
                width: calc(100% - 156px) !important;
            }
            /* 分组样式 */
            .delivery-group {
                @apply mb-6 border border-gray-200 rounded-xl overflow-hidden;
            }
            .delivery-header {
                @apply bg-gray-50 px-4 py-3 border-b border-gray-200 font-medium text-gray-700 flex items-center;
            }
            .size-subgroup {
                @apply p-4 border-b border-gray-100 last:border-0;
            }
            .language-subgroup {
                @apply pl-6 pb-2;
            }
            /* 进度条动画 */
            .progress-animation {
                transition: width 3s ease-out;
            }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen font-sans text-dark">
    <!-- 进度条容器 -->
    <div id="progressBarContainer" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white p-8 rounded-xl shadow-2xl w-full max-w-md transform transition-all duration-300 scale-100">
            <div class="flex justify-center mb-6">
                <div class="w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center">
                    <i class="fa fa-cogs text-2xl text-primary"></i>
                </div>
            </div>
            <h3 class="text-xl font-semibold text-center mb-6 text-primary">AI 生成中</h3>
            <div class="w-full bg-gray-200 rounded-full h-4.5 mb-3 overflow-hidden">
                <div id="progressBar" class="bg-gradient-to-r from-primary via-accent3 to-accent2 h-full rounded-full progress-animation" style="width: 0%"></div>
            </div>
            <p class="text-sm text-gray-500 text-center" id="progressText">0%</p>
        </div>
    </div>

    <!-- 页面容器 -->
    <div class="container mx-auto px-4 py-6">
        <!-- 标题区域 -->
        <header class="text-center mb-8 px-4">
            <h1 class="text-[clamp(2rem,20vw,4rem)] font-extrabold mb-4 leading-tight">
                <span class="bg-clip-text text-transparent bg-gradient-to-r from-primary via-accent3 to-accent2">Anker</span>
                <span class="bg-clip-text text-transparent bg-gradient-to-r from-accent5 via-accent1 to-secondary">AI</span>
                <span class="block sm:inline bg-clip-text text-transparent bg-gradient-to-r from-secondary via-accent4 to-primary">智能版本号自动生成</span>
            </h1>
            <p class="text-gray-600 max-w-2xl mx-auto text-lg">轻松生成标准化标题格式，支持批量生成所选尺寸和交付件版本</p>
        </header>
        
        <!-- 主内容区域 -->
        <main class="grid grid-cols-1 lg:grid-cols-2 gap-8 px-4 max-w-7xl mx-auto">
            <!-- 左侧输入区域 -->
            <section class="bg-white rounded-xl p-6 card-shadow w-full">
                <h2 class="text-xl font-semibold mb-6 flex items-center text-primary">
                    <i class="fa fa-pencil-square-o mr-2"></i>输入信息
                </h2>
                
                <form id="namingForm" class="space-y-6 w-full">
                    <!-- PN号输入 -->
                    <div class="section-style bg-white w-full">
                        <label for="pnNumber" class="block text-sm font-medium text-gray-700 mb-2">PN号 <span class="text-red-500">*</span></label>
                        <input 
                            type="text" 
                            id="pnNumber" 
                            class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg input-focus focus:ring-primary transition-all duration-200 bg-white"
                            placeholder="例如：8731"
                            required
                        >
                    </div>
                    
                    <!-- 视频类型选择 -->
                    <div class="section-style bg-white w-full">
                        <label class="block text-sm font-medium text-gray-700 mb-3">视频类型 <span class="text-red-500">*</span></label>
                        <div class="grid grid-cols-2 sm:grid-cols-4 gap-3">
                            <label class="video-type-option flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer transition-colors duration-200">
                                <input type="radio" name="videoType" value="How to Video" class="mr-2 hidden" checked>
                                <span>How to Video</span>
                            </label>
                            <label class="video-type-option flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer transition-colors duration-200">
                                <input type="radio" name="videoType" value="PV" class="mr-2 hidden">
                                <span>PV</span>
                            </label>
                            <label class="video-type-option flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer transition-colors duration-200">
                                <input type="radio" name="videoType" value="TVC" class="mr-2 hidden">
                                <span>TVC</span>
                            </label>
                            <label class="video-type-option flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer transition-colors duration-200">
                                <input type="radio" name="videoType" value="Listing" class="mr-2 hidden">
                                <span>Listing</span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- 品牌选择 -->
                    <div class="section-style bg-white w-full">
                        <label class="block text-sm font-medium text-gray-700 mb-3">品牌 <span class="text-red-500">*</span></label>
                        <div class="grid grid-cols-2 sm:grid-cols-3 gap-3">
                            <label class="brand-option flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer transition-colors duration-200">
                                <input type="radio" name="brand" value="Anker" class="mr-2 hidden" checked>
                                <span>Anker</span>
                            </label>
                            <label class="brand-option flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer transition-colors duration-200">
                                <input type="radio" name="brand" value="Anker solix" class="mr-2 hidden">
                                <span>Anker solix</span>
                            </label>
                            <label class="brand-option flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer transition-colors duration-200">
                                <input type="radio" name="brand" value="Eufy" class="mr-2 hidden">
                                <span>Eufy</span>
                            </label>
                            <label class="brand-option flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer transition-colors duration-200">
                                <input type="radio" name="brand" value="Eufy Clean" class="mr-2 hidden">
                                <span>Eufy Clean</span>
                            </label>
                            <label class="brand-option flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer transition-colors duration-200">
                                <input type="radio" name="brand" value="Eufy Make" class="mr-2 hidden">
                                <span>Eufy Make</span>
                            </label>
                            <label class="brand-option flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer transition-colors duration-200">
                                <input type="radio" name="brand" value="Eufy Security" class="mr-2 hidden">
                                <span>Eufy Security</span>
                            </label>
                            <label class="brand-option flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer transition-colors duration-200">
                                <input type="radio" name="brand" value="NEBULA" class="mr-2 hidden">
                                <span>NEBULA</span>
                            </label>
                            <label class="brand-option flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer transition-colors duration-200">
                                <input type="radio" name="brand" value="Soundcore" class="mr-2 hidden">
                                <span>Soundcore</span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- 语言选择 -->
                    <div class="section-style bg-white w-full">
                        <label class="block text-sm font-medium text-gray-700 mb-3">语言（可多选） <span class="text-red-500">*</span></label>
                        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3">
                            <label class="language-option flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer transition-colors duration-200">
                                <input type="checkbox" name="language" value="ZH" class="mr-2 hidden" checked>
                                <span>ZH</span>
                            </label>
                            <label class="language-option flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer transition-colors duration-200">
                                <input type="checkbox" name="language" value="Clean" class="mr-2 hidden" checked>
                                <span>Clean</span>
                            </label>
                            <label class="language-option flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer transition-colors duration-200">
                                <input type="checkbox" name="language" value="DE" class="mr-2 hidden">
                                <span>DE</span>
                            </label>
                            <label class="language-option flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer transition-colors duration-200">
                                <input type="checkbox" name="language" value="EN" class="mr-2 hidden" checked>
                                <span>EN</span>
                            </label>
                            <label class="language-option flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer transition-colors duration-200">
                                <input type="checkbox" name="language" value="FR" class="mr-2 hidden">
                                <span>FR</span>
                            </label>
                            <label class="language-option flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer transition-colors duration-200">
                                <input type="checkbox" name="language" value="IT" class="mr-2 hidden">
                                <span>IT</span>
                            </label>
                            <label class="language-option flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer transition-colors duration-200">
                                <input type="checkbox" name="language" value="JP" class="mr-2 hidden">
                                <span>JP</span>
                            </label>
                            <label class="language-option flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer transition-colors duration-200">
                                <input type="checkbox" name="language" value="NL" class="mr-2 hidden">
                                <span>NL</span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- 交付件选择 -->
                    <div class="section-style bg-white w-full">
                        <label class="block text-sm font-medium text-gray-700 mb-3">交付件（可多选） <span class="text-red-500">*</span></label>
                        <div class="grid grid-cols-2 sm:grid-cols-4 gap-3">
                            <label class="delivery-option flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer transition-colors duration-200">
                                <input type="checkbox" name="delivery" value="Video" class="mr-2 hidden" checked>
                                <span>Video</span>
                            </label>
                            <label class="delivery-option flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer transition-colors duration-200">
                                <input type="checkbox" name="delivery" value="Music" class="mr-2 hidden" checked>
                                <span>Music</span>
                            </label>
                            <label class="delivery-option flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer transition-colors duration-200">
                                <input type="checkbox" name="delivery" value="VO" class="mr-2 hidden" checked>
                                <span>VO</span>
                            </label>
                            <label class="delivery-option flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer transition-colors duration-200">
                                <input type="checkbox" name="delivery" value="Pic" class="mr-2 hidden" checked>
                                <span>Pic</span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- 尺寸选择 -->
                    <div class="section-style bg-white w-full">
                        <label class="block text-sm font-medium text-gray-700 mb-3">尺寸（可多选） <span class="text-red-500">*</span></label>
                        <div class="grid grid-cols-3 gap-3">
                            <label class="size-option flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer transition-colors duration-200">
                                <input type="checkbox" name="size" value="16X9" class="mr-2 hidden" checked>
                                <span>16X9</span>
                            </label>
                            <label class="size-option flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer transition-colors duration-200">
                                <input type="checkbox" name="size" value="9X16" class="mr-2 hidden" checked>
                                <span>9X16</span>
                            </label>
                            <label class="size-option flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer transition-colors duration-200">
                                <input type="checkbox" name="size" value="1X1" class="mr-2 hidden" checked>
                                <span>1X1</span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- 版本号编号 -->
                    <div class="section-style bg-white w-full">
                        <label for="versionNumber" class="block text-sm font-medium text-gray-700 mb-2">版本号数量 <span class="text-red-500">*</span></label>
                        <input 
                            type="number" 
                            id="versionNumber" 
                            class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg input-focus focus:ring-primary transition-all duration-200 bg-white"
                            placeholder="例如：3（将生成01~03）"
                            min="1"
                            value="1"
                            required
                        >
                    </div>
                    
                    <!-- 操作按钮 -->
                    <div class="pt-4 flex gap-4 w-full">
                        <button 
                            type="button" 
                            id="generateBtn"
                            class="generate-btn bg-gradient-to-r from-primary to-accent3 hover:opacity-90 text-white font-medium py-3 px-4 rounded-lg transition-all duration-300 btn-effect flex items-center justify-center text-lg"
                        >
                            <i class="fa fa-magic mr-2"></i>生成标题
                        </button>
                        <button 
                            type="reset" 
                            class="fixed-width-btn bg-gradient-to-r from-gray-300 to-gray-400 hover:opacity-90 text-gray-800 font-medium py-3 px-6 rounded-lg transition-all duration-300 btn-effect"
                        >
                            <i class="fa fa-refresh"></i>
                        </button>
                    </div>
                </form>
            </section>
            
            <!-- 右侧输出区域 -->
            <section class="bg-white rounded-xl p-6 card-shadow flex flex-col w-full">
                <h2 class="text-xl font-semibold mb-6 flex items-center text-accent3">
                    <i class="fa fa-output mr-2"></i>生成的标题
                </h2>
                
                <div class="flex-1 flex flex-col space-y-6 mb-6 w-full">
                    <!-- 空状态 -->
                    <div id="emptyState" class="flex-1 flex items-center justify-center text-gray-500">
                        <div class="text-center">
                            <i class="fa fa-file-text-o text-4xl mb-3 opacity-30"></i>
                            <p>请输入信息并点击生成按钮</p>
                        </div>
                    </div>
                    
                    <!-- 结果容器（动态生成） -->
                    <div id="resultsContainer" class="hidden flex-1 flex flex-col space-y-6 w-full overflow-auto">
                        <!-- 结果将动态插入这里 -->
                    </div>
                </div>
                
                <!-- 复制按钮 -->
                <div class="flex gap-4 w-full">
                    <button 
                        id="copyAllBtn" 
                        class="generate-btn bg-gradient-to-r from-secondary to-accent4 hover:opacity-90 text-white font-medium py-3 px-4 rounded-lg transition-all duration-300 btn-effect flex items-center justify-center opacity-50 cursor-not-allowed"
                        disabled
                    >
                        <i class="fa fa-copy mr-2"></i>复制全部
                    </button>
                    <button 
                        id="clearBtn" 
                        class="fixed-width-btn bg-gradient-to-r from-gray-300 to-gray-400 hover:opacity-90 text-gray-800 font-medium py-3 px-6 rounded-lg transition-all duration-300 btn-effect opacity-50 cursor-not-allowed"
                        disabled
                    >
                        <i class="fa fa-trash"></i>
                    </button>
                </div>
                
                <!-- 格式说明 -->
                <div class="mt-8 pt-6 border-t border-gray-100 w-full">
                    <h3 class="text-sm font-semibold text-gray-600 mb-3">标题格式说明</h3>
                    <p class="text-xs text-gray-500 bg-gray-50 p-3 rounded w-full">
                        <code>品牌_PN号_视频类型_语言缩写_尺寸_交付件_版本号</code><br>
                        示例: <code>Anker_8731_How to Video_ZH_16X9_Video_01</code>
                    </p>
                </div>
            </section>
        </main>
        
        <!-- 底部信息 -->
        <footer class="mt-12 text-center text-gray-500 text-sm px-4">
            <p>Anker AI 智能版本号自动生成 &copy; 2023 | 提高工作效率的智能助手</p>
        </footer>
        
        <!-- 复制成功提示 -->
        <div id="copyToast" class="fixed bottom-6 left-1/2 transform -translate-x-1/2 bg-dark text-white px-6 py-3 rounded-lg shadow-2xl opacity-0 transition-opacity duration-300 flex items-center z-50">
            <i class="fa fa-check-circle mr-2 text-green-400"></i>
            <span id="toastMessage">已成功复制到剪贴板！</span>
        </div>
    </div>

    <script>
        // 获取DOM元素
        const form = document.getElementById('namingForm');
        const pnInput = document.getElementById('pnNumber');
        const versionInput = document.getElementById('versionNumber');
        const generateBtn = document.getElementById('generateBtn');
        const copyAllBtn = document.getElementById('copyAllBtn');
        const clearBtn = document.getElementById('clearBtn');
        const emptyState = document.getElementById('emptyState');
        const resultsContainer = document.getElementById('resultsContainer');
        const copyToast = document.getElementById('copyToast');
        const toastMessage = document.getElementById('toastMessage');
        
        // 进度条相关元素
        const progressBarContainer = document.getElementById('progressBarContainer');
        const progressBar = document.getElementById('progressBar');
        const progressText = document.getElementById('progressText');
        
        // 选项类型DOM元素
        const videoTypeOptions = document.querySelectorAll('input[name="videoType"]');
        const languageOptions = document.querySelectorAll('input[name="language"]');
        const brandOptions = document.querySelectorAll('input[name="brand"]');
        const deliveryOptions = document.querySelectorAll('input[name="delivery"]');
        const sizeOptions = document.querySelectorAll('input[name="size"]');
        
        // 为不同类型的选项定义不同的深色
        const optionColors = {
            video: { bg: 'bg-purple-900', border: 'border-purple-800', text: 'text-white' },
            language: { bg: 'bg-green-900', border: 'border-green-800', text: 'text-white' },
            brand: { bg: 'bg-orange-900', border: 'border-orange-800', text: 'text-white' },
            delivery: { bg: 'bg-pink-900', border: 'border-pink-800', text: 'text-white' },
            size: { bg: 'bg-teal-900', border: 'border-teal-800', text: 'text-white' }
        };
        
        // 为不同交付件定义不同的颜色
        const deliveryColors = {
            'Video': { bg: 'bg-blue-50', border: 'border-blue-200', text: 'text-blue-800', accent: 'text-blue-600' },
            'Music': { bg: 'bg-purple-50', border: 'border-purple-200', text: 'text-purple-800', accent: 'text-purple-600' },
            'VO': { bg: 'bg-green-50', border: 'border-green-200', text: 'text-green-800', accent: 'text-green-600' },
            'Pic': { bg: 'bg-orange-50', border: 'border-orange-200', text: 'text-orange-800', accent: 'text-orange-600' }
        };
        
        // 为不同尺寸定义不同的颜色
        const sizeColors = {
            '16X9': { bg: 'bg-white', border: 'border-blue-100', text: 'text-blue-700', accent: 'text-blue-500' },
            '9X16': { bg: 'bg-white', border: 'border-green-100', text: 'text-green-700', accent: 'text-green-500' },
            '1X1': { bg: 'bg-white', border: 'border-purple-100', text: 'text-purple-700', accent: 'text-purple-500' }
        };
        
        // 为不同语言定义不同的颜色
        const languageColors = {
            'ZH': { text: 'text-red-700', accent: 'text-red-500' },
            'Clean': { text: 'text-gray-700', accent: 'text-gray-500' },
            'DE': { text: 'text-black-700', accent: 'text-black-500' },
            'EN': { text: 'text-blue-700', accent: 'text-blue-500' },
            'FR': { text: 'text-indigo-700', accent: 'text-indigo-500' },
            'IT': { text: 'text-green-700', accent: 'text-green-500' },
            'JP': { text: 'text-pink-700', accent: 'text-pink-500' },
            'NL': { text: 'text-orange-700', accent: 'text-orange-500' }
        };
        
        // 生成标题函数 - 按交付件一级分组，尺寸二级分组，语言三级分组
        function generateTitles() {
            // 获取输入值
            const pn = pnInput.value.trim();
            const versionCount = parseInt(versionInput.value);
            
            // 获取选中的选项值
            const videoType = getSelectedRadioValue(videoTypeOptions);
            const languages = getSelectedCheckboxes(languageOptions);
            const brand = getSelectedRadioValue(brandOptions);
            const deliveries = getSelectedCheckboxes(deliveryOptions);
            const selectedSizes = getSelectedCheckboxes(sizeOptions);
            
            // 验证输入
            if (!pn || isNaN(versionCount) || versionCount < 1 || deliveries.length === 0 || 
                selectedSizes.length === 0 || languages.length === 0) {
                alert('请填写所有必填字段，至少选择一个交付件、一个尺寸和一种语言，并确保版本号为有效数字');
                return;
            }
            
            // 显示进度条
            progressBarContainer.classList.remove('hidden');
            progressBar.style.width = '0%';
            progressText.textContent = '0%';
            
            // 强制重绘
            void progressBar.offsetWidth;
            
            // 启动进度条动画
            progressBar.style.width = '100%';
            
            // 更新进度文本
            let progress = 0;
            const interval = setInterval(() => {
                progress++;
                progressText.textContent = `${progress}%`;
                if (progress >= 100) {
                    clearInterval(interval);
                }
            }, 30); // 30ms更新一次，3秒内完成100次更新
            
            // 3秒后执行实际生成逻辑
            setTimeout(() => {
                // 隐藏进度条
                progressBarContainer.classList.add('hidden');
                
                // 清空之前的结果
                resultsContainer.innerHTML = '';
                const allTitles = [];
                
                // 按交付件一级分组
                deliveries.forEach(delivery => {
                    // 获取该交付件对应的颜色配置
                    const deliveryColor = deliveryColors[delivery] || { 
                        bg: 'bg-gray-50', 
                        border: 'border-gray-200', 
                        text: 'text-gray-800', 
                        accent: 'text-gray-600' 
                    };
                    
                    // 创建交付件组容器
                    const deliveryGroup = document.createElement('div');
                    deliveryGroup.className = 'delivery-group animate-fadeIn';
                    
                    // 创建交付件组标题
                    const deliveryHeader = document.createElement('div');
                    deliveryHeader.className = 'delivery-header';
                    deliveryHeader.innerHTML = `<i class="fa fa-cube ${deliveryColor.accent} mr-2"></i>${delivery}（交付件）`;
                    
                    deliveryGroup.appendChild(deliveryHeader);
                    
                    // 按尺寸二级分组
                    selectedSizes.forEach(sizeName => {
                        // 获取该尺寸对应的颜色配置
                        const sizeColor = sizeColors[sizeName] || { 
                            bg: 'bg-white', 
                            border: 'border-gray-100', 
                            text: 'text-gray-700', 
                            accent: 'text-gray-500' 
                        };
                        
                        // 创建尺寸子组容器
                        const sizeSubgroup = document.createElement('div');
                        sizeSubgroup.className = 'size-subgroup';
                        
                        // 创建尺寸子组标题
                        const sizeHeader = document.createElement('h4');
                        sizeHeader.className = `text-sm font-medium ${sizeColor.text} mb-3 pb-2 border-b ${sizeColor.border}`;
                        sizeHeader.innerHTML = `<i class="fa fa-arrows-alt ${sizeColor.accent} mr-2"></i>${sizeName}（尺寸）`;
                        
                        sizeSubgroup.appendChild(sizeHeader);
                        
                        // 按语言三级分组
                        languages.forEach(language => {
                            // 获取该语言对应的颜色配置
                            const langColor = languageColors[language] || { 
                                text: 'text-gray-700', 
                                accent: 'text-gray-500' 
                            };
                            
                            // 创建语言子组容器
                            const languageSubgroup = document.createElement('div');
                            languageSubgroup.className = 'language-subgroup';
                            
                            // 创建语言子组标题
                            const langHeader = document.createElement('h5');
                            langHeader.className = `text-xs font-medium ${langColor.text} mb-2`;
                            langHeader.innerHTML = `<i class="fa fa-language ${langColor.accent} mr-1"></i>${language}（语言）`;
                            
                            languageSubgroup.appendChild(langHeader);
                            
                            // 为该语言生成标题
                            for (let i = 1; i <= versionCount; i++) {
                                // 格式化版本号为两位数
                                const version = i.toString().padStart(2, '0');
                                
                                // 生成标题
                                const title = `${brand}_${pn}_${videoType}_${language}_${sizeName}_${delivery}_${version}`;
                                allTitles.push(title);
                                
                                // 创建结果元素
                                const resultItem = document.createElement('div');
                                resultItem.className = `flex items-center justify-between p-3 bg-white rounded-lg border ${sizeColor.border} hover:border-${sizeColor.accent}/50 transition-colors mb-2 w-full`;
                                
                                const titleText = document.createElement('span');
                                titleText.className = `text-sm md:text-base break-all ${langColor.text} flex-1`;
                                titleText.textContent = title;
                                
                                const copyBtn = document.createElement('button');
                                copyBtn.className = `ml-2 ${langColor.accent} hover:opacity-80 transition-colors fixed-width-btn flex items-center justify-center`;
                                copyBtn.innerHTML = '<i class="fa fa-copy"></i>';
                                copyBtn.title = '复制此标题';
                                copyBtn.setAttribute('data-text', title); // 存储文本用于复制
                                copyBtn.addEventListener('click', function() {
                                    copyToClipboard(this.getAttribute('data-text'), false);
                                });
                                
                                resultItem.appendChild(titleText);
                                resultItem.appendChild(copyBtn);
                                languageSubgroup.appendChild(resultItem);
                            }
                            
                            sizeSubgroup.appendChild(languageSubgroup);
                        });
                        
                        deliveryGroup.appendChild(sizeSubgroup);
                    });
                    
                    resultsContainer.appendChild(deliveryGroup);
                });
                
                // 显示结果，隐藏空状态
                emptyState.classList.add('hidden');
                resultsContainer.classList.remove('hidden');
                
                // 启用操作按钮
                copyAllBtn.disabled = false;
                copyAllBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                clearBtn.disabled = false;
                clearBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                
                // 存储所有标题用于全选复制
                resultsContainer.dataset.allTitles = JSON.stringify(allTitles);
            }, 3000); // 3秒后执行
        }
        
        // 复制到剪贴板函数
        function copyToClipboard(text, isAll = false) {
            if (!text) return;
            
            navigator.clipboard.writeText(text).then(() => {
                // 显示复制成功提示
                toastMessage.textContent = isAll ? '已成功复制所有标题到剪贴板！' : '已成功复制到剪贴板！';
                copyToast.style.opacity = '1';
                setTimeout(() => {
                    copyToast.style.opacity = '0';
                }, 2000);
            }).catch(err => {
                console.error('无法复制文本: ', err);
                alert('复制失败，请手动复制');
            });
        }
        
        // 复制所有标题
        function copyAllTitles() {
            const allTitles = JSON.parse(resultsContainer.dataset.allTitles || '[]');
            if (allTitles.length > 0) {
                copyToClipboard(allTitles.join('\n'), true);
            }
        }
        
        // 清空结果
        function clearResults() {
            resultsContainer.innerHTML = '';
            resultsContainer.classList.add('hidden');
            emptyState.classList.remove('hidden');
            
            // 禁用操作按钮
            copyAllBtn.disabled = true;
            copyAllBtn.classList.add('opacity-50', 'cursor-not-allowed');
            clearBtn.disabled = true;
            clearBtn.classList.add('opacity-50', 'cursor-not-allowed');
        }
        
        // 获取选中的单选按钮值
        function getSelectedRadioValue(radioButtons) {
            for (const radio of radioButtons) {
                if (radio.checked) {
                    return radio.value;
                }
            }
            return ''; // 应该不会走到这里，因为都有默认选中项
        }
        
        // 获取选中的复选框值
        function getSelectedCheckboxes(checkboxes) {
            const selected = [];
            for (const checkbox of checkboxes) {
                if (checkbox.checked) {
                    selected.push(checkbox.value);
                }
            }
            return selected;
        }
        
        // 设置单选按钮组的点击效果 - 选择后变为深色
        function setupRadioGroup(groupClass, colorType) {
            const colors = optionColors[colorType];
            
            document.querySelectorAll(`.${groupClass}`).forEach(option => {
                const input = option.querySelector('input');
                
                // 初始状态设置
                if (input.checked) {
                    option.classList.add(colors.bg, colors.border, colors.text);
                }
                
                option.addEventListener('click', function() {
                    // 对于单选按钮，先移除同组所有选中状态
                    document.querySelectorAll(`.${groupClass}`).forEach(el => {
                        const elInput = el.querySelector('input');
                        elInput.checked = false;
                        el.classList.remove(colors.bg, colors.border, colors.text);
                    });
                    
                    // 设置当前选项为选中状态
                    input.checked = true;
                    option.classList.add(colors.bg, colors.border, colors.text);
                });
            });
        }
        
        // 设置复选框组的点击效果 - 选择后变为深色
        function setupCheckboxGroup(groupClass, colorType) {
            const colors = optionColors[colorType];
            
            document.querySelectorAll(`.${groupClass}`).forEach(option => {
                const input = option.querySelector('input');
                
                // 初始状态设置
                if (input.checked) {
                    option.classList.add(colors.bg, colors.border, colors.text);
                }
                
                option.addEventListener('click', function() {
                    // 切换选中状态
                    input.checked = !input.checked;
                    
                    // 更新样式
                    if (input.checked) {
                        option.classList.add(colors.bg, colors.border, colors.text);
                    } else {
                        option.classList.remove(colors.bg, colors.border, colors.text);
                    }
                });
            });
        }
        
        // 初始化所有单选按钮组和复选框组，并为每个组设置不同的深色
        setupRadioGroup('video-type-option', 'video');
        setupCheckboxGroup('language-option', 'language');
        setupRadioGroup('brand-option', 'brand');
        setupCheckboxGroup('delivery-option', 'delivery');
        setupCheckboxGroup('size-option', 'size');
        
        // 重置表单时处理
        form.addEventListener('reset', function() {
            // 重置单选按钮
            resetRadioGroup('video-type-option', 'video');
            resetRadioGroup('brand-option', 'brand');
            
            // 重置复选框
            resetCheckboxGroup('language-option', 'language');
            resetCheckboxGroup('delivery-option', 'delivery');
            resetCheckboxGroup('size-option', 'size');
            
            clearResults();
        });
        
        // 重置单选按钮组
        function resetRadioGroup(groupClass, colorType) {
            const colors = optionColors[colorType];
            const options = document.querySelectorAll(`.${groupClass}`);
            
            options.forEach(option => {
                const input = option.querySelector('input');
                option.classList.remove(colors.bg, colors.border, colors.text);
            });
            
            // 设置默认选中项
            const defaultOption = document.querySelector(`.${groupClass} input[checked]`);
            if (defaultOption) {
                defaultOption.parentElement.classList.add(colors.bg, colors.border, colors.text);
            }
        }
        
        // 重置复选框组
        function resetCheckboxGroup(groupClass, colorType) {
            const colors = optionColors[colorType];
            const options = document.querySelectorAll(`.${groupClass}`);
            
            options.forEach(option => {
                const input = option.querySelector('input');
                option.classList.remove(colors.bg, colors.border, colors.text);
                
                // 对于默认选中的复选框，重新应用样式
                if (input.defaultChecked) {
                    input.checked = true;
                    option.classList.add(colors.bg, colors.border, colors.text);
                }
            });
        }
        
        // 事件监听
        generateBtn.addEventListener('click', generateTitles);
        copyAllBtn.addEventListener('click', copyAllTitles);
        clearBtn.addEventListener('click', clearResults);
        
        // 支持回车键生成标题
        form.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                generateTitles();
            }
        });
    </script>
</body>
</html>
